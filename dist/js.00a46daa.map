{"version":3,"sources":["js/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["throttle","type","name","obj","window","running","func","requestAnimationFrame","dispatchEvent","CustomEvent","addEventListener","data","currentPanel","panels","navigation","setup","document","querySelectorAll","length","numbers","querySelector","firstChild","removeChild","i","newLink","createElement","href","id","innerHTML","appendChild","onclick","goToPanel","parseInt","substring","event","keyCode","wantedPanel","section","myWidth","clientWidth","scrollLeft","numbersLinks","classList","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","cloneNode","onload","remove","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","module"],"mappings":"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","file":"js.00a46daa.map","sourceRoot":"..","sourcesContent":["import '../scss/styles.scss';\n\n// throttle resize – from https://developer.mozilla.org/en-US/docs/Web/Events/resize\n\n(function() {\n\tvar throttle = function(type, name, obj) {\n\t\tobj = obj || window;\n\t\tvar running = false;\n\t\tvar func = function() {\n\t\t\tif (running) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trunning = true;\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tobj.dispatchEvent(new CustomEvent(name));\n\t\t\t\trunning = false;\n\t\t\t});\n\t\t};\n\t\tobj.addEventListener(type, func);\n\t};\n\n\tthrottle('resize', 'optimizedResize');\n})();\n\nlet data = {\n\tcurrentPanel: 0,\n\tpanels: 0\n};\n\nconst navigation = {\n\tsetup: function() {\n\t\tlet panels = document.querySelectorAll('article');\n\t\tdata.panels = panels.length;\n\t\tlet numbers = document.querySelector('#mainnav #numbers');\n\t\twhile (numbers.firstChild) {\n\t\t\tnumbers.removeChild(numbers.firstChild);\n\t\t}\n\t\tfor (let i = 0; i < data.panels; i++) {\n\t\t\tlet newLink = document.createElement('a');\n\t\t\tnewLink.href = '#';\n\t\t\tnewLink.id = `go_${i}`;\n\t\t\tnewLink.innerHTML = i + 1;\n\t\t\tnumbers.appendChild(newLink);\n\t\t\tnewLink.onclick = function() {\n\t\t\t\tnavigation.goToPanel(parseInt(this.id.substring(3), 10));\n\t\t\t};\n\t\t}\n\t\tdocument.querySelector('#goleft').onclick = function() {\n\t\t\tif (data.currentPanel > 0) {\n\t\t\t\tnavigation.goToPanel(data.currentPanel - 1);\n\t\t\t}\n\t\t};\n\t\tdocument.querySelector('#goright').onclick = function() {\n\t\t\tif (data.currentPanel + 1 < data.panels) {\n\t\t\t\tnavigation.goToPanel(data.currentPanel + 1);\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('keydown', event => {\n\t\t\t// handle keyboard\n\t\t\tif (event.keyCode === 37 && data.currentPanel > 0) {\n\t\t\t\tnavigation.goToPanel(data.currentPanel - 1);\n\t\t\t}\n\t\t\tif (event.keyCode === 39 && data.currentPanel + 1 < data.panels) {\n\t\t\t\tnavigation.goToPanel(data.currentPanel + 1);\n\t\t\t}\n\t\t});\n\n\t\tthis.goToPanel(data.currentPanel);\n\t\twindow.addEventListener('optimizedResize', function() {\n\t\t\t// handle resize\n\t\t\tnavigation.goToPanel(data.currentPanel);\n\t\t});\n\t},\n\tgoToPanel(wantedPanel) {\n\t\tconst section = document.querySelector('main section');\n\t\tconst myWidth = section.clientWidth;\n\t\tsection.scrollLeft = myWidth * wantedPanel;\n\t\tdata.currentPanel = wantedPanel;\n\t\tlet numbersLinks = document.querySelectorAll('#numbers a');\n\t\tdocument.querySelector('#goleft').classList = wantedPanel === 0 ? 'off' : '';\n\t\tdocument.querySelector('#goright').classList = wantedPanel === data.panels - 1 ? 'off' : '';\n\t\tfor (let i = 0; i < numbersLinks.length; i++) {\n\t\t\tnumbersLinks[i].classList = '';\n\t\t\tif (i === wantedPanel) {\n\t\t\t\tnumbersLinks[i].classList = 'on';\n\t\t\t}\n\t\t}\n\t}\n};\n\nnavigation.setup();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}